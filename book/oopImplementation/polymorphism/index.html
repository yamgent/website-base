<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CS2103/T Website - Object Oriented Programming: Polymorphism</title>
    <link rel="stylesheet" href="..\..\..\markbind\css\bootstrap.min.css">
    <link rel="stylesheet" href="..\..\..\markbind\css\github.min.css">
    <link rel="stylesheet" href="..\..\..\markbind\css\markbind.css">
    <link rel="icon" href="/website-base/favicon.ico">
</head>
<body>
<div id="app" class="container-fluid">
    <div>
  <link rel="stylesheet" href="/website-base/book/css/textbook.css">
  <div class="website-content">
    <tip-box>
      <div>
        <p><span class="glyphicon glyphicon-flag" aria-hidden="true"></span> Can implement polymorphism <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0032-20e3.png"></p>
      </div>
    </tip-box>
    <div>
      <div>
        <p>
          <panel src="/website-base\book\oopDesign\polymorphism\introduction\unit-inElsewhere-asFlat._include_.html" header="%%<span class='glyphicon glyphicon-education' aria-hidden='true'></span> OOP ‚Üí Polymorphism ‚Üí Introduction%%" isOpen="false" no-close="true"
            no-switch="true"></panel>
          <panel src="/website-base\book\oopDesign\inheritance\what\unit-inElsewhere-asFlat._include_.html" header="%%<span class='glyphicon glyphicon-education' aria-hidden='true'></span> OOP ‚Üí Inheritance ‚Üí What%%" isOpen="false" no-close="true" no-switch="true"></panel>
          <panel src="/website-base\book\oopImplementation\overriding\unit-inElsewhere-asFlat._include_.html" header="%%<span class='glyphicon glyphicon-education' aria-hidden='true'></span> Implementation ‚Üí OOP ‚Üí Overriding%%" isOpen="false" no-close="true"
            no-switch="true"></panel>
        </p>
      </div>
      <p></p>
      <p><span class="dimmed"><strong><span>Implementation ‚Üí Object Oriented Programming ‚Üí
</span></strong>
        </span>
      </p>
      <div id="title-and-body">
        <div>
          <h4 id="implementing-polymorphism-two">Implementing Polymorphism <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0032-20e3.png"></h4>
        </div>
        <div id="main">
          <div>
            <p><strong>We can use inheritance to achieve polymorphism</strong>.</p>
            <tip-box>
              <p>üì¶ Continuing with the example given in [
                <trigger trigger="click" for="modal:oopImpl-polymorphism"><span class="glyphicon glyphicon-education" aria-hidden="true"></span> OOP ‚Üí Polymorphism ‚Üí Introduction </trigger>], given below is the minimum code for <code>Staff</code>, <code>Admin</code>, and <code>Academic</code> classes that achieves
                the desired polymorphism.</p>
              <modal title="" id="modal:oopImpl-polymorphism">
              
                <div>
                  <div></div>
                  <p></p>
                  <p><span class="dimmed"><strong><span>Design ‚Üí Object Oriented Programming ‚Üí Polymorphism ‚Üí
</span></strong>
                    </span>
                  </p>
                  <div id="title-and-body">
                    <div>
                      <h4 id="introduction-two">Introduction <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0032-20e3.png"></h4>
                    </div>
                    <div id="main">
                      <div>
                        <tip-box type="primary">
                          <div>
                            <p><strong>Polymorphism</strong>:</p>
                            <blockquote>
                              <p>The ability of different objects to respond, each in its own way, to identical messages is called polymorphism. <sub>-- <a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/OOP_ObjC/">Object-Oriented Programming with Objective-C</a>, Apple</sub></p>
                            </blockquote>
                          </div>
                        </tip-box>
                        <p>Take the example of writing a payroll application for a university to facilitate payroll processing of university staff. Suppose an <code>adjustSalary(int)</code> operation adjusts the salaries of all staff members. This operation
                          will be executed whenever the university initiates a salary adjustment for its staff. However, the adjustment formula is different for different staff categories, say admin and academic. Here is one possible way of designing
                          the classes in the <code>Payroll</code> system.</p>
                        <tip-box>
                          <p>üì¶ Calling <code>adjustSalary()</code> method for each Staff type:</p>
                          <img src="/website-base/book/oopDesign/polymorphism/introduction/images/payroll.png" height="150">
                          <p></p>
                          <p>Here is the implementation of the <code>adjustSalary(int)</code> operation from the above design.</p>
                          <pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Payroll1</span> </span>{
    ArrayList&lt; Admin &gt; admins;
    ArrayList&lt; Academic &gt; academics;
    <span class="hljs-comment">// ...</span>

    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">adjustSalary</span><span class="hljs-params">(<span class="hljs-keyword">int</span> byPercent)</span> </span>{
        <span class="hljs-keyword">for</span> (Admin ad: admins) {
            ad.adjustSalary(byPercent);
        }
        <span class="hljs-keyword">for</span> (Academic ac: academics) {
            ac.adjustSalary(byPercent);
        }
    }
}
</code></pre>
                        </tip-box>
                        <p>Note how processing is similar for the two staff types. It is as if the type of staff members is irrelevant to how they are processed inside this operation! If that is the case, can the staff type be &quot;abstracted away&quot;
                          from this method? Here is such an implementation of <code>adjustSalary(int)</code>:</p>
                        <tip-box>
                          <pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Payroll2</span> </span>{
    ArrayList&lt; Staff &gt; staff;
    <span class="hljs-comment">// ...</span>

    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">adjustSalary</span><span class="hljs-params">(<span class="hljs-keyword">int</span> byPercent)</span> </span>{
        <span class="hljs-keyword">for</span> (Staff s: staff) {
            s.adjustSalary(byPercent);
        }
    }
}
</code></pre>
                          <p>Notice the following:</p>
                          <ul>
                            <li>Only one data structure <code>ArrayList&lt; Staff &gt;</code>. It contains both <code>Admin</code> and <code>Academic</code> objects but treats them as <code>Staff</code> objects</li>
                            <li>Only one loop</li>
                            <li>Outcome of the <code>s.adjustSalary(byPercent)</code> method call depends on whether <code>s</code> is an <code>Academic</code> or <code>Admin</code> object</li>
                          </ul>
                        </tip-box>
                        <p>The above code is better in several ways:</p>
                        <ul>
                          <li>It is shorter.</li>
                          <li>It is simpler.</li>
                          <li>It is more flexible (this code will remain the same even if more staff types are added).</li>
                        </ul>
                        <p>This does not mean we are getting rid of the <code>Academic</code> and <code>Admin</code> classes completely and replacing them with a more general class called <code>Staff</code>. Rather, this part of the code ‚Äútreats‚Äù both <code>Admin</code>                          and <code>Academic</code> objects as one type called <code>Staff</code>.</p>
                        <p>For example, <code>ArrayList</code> staff contains both <code>Admin</code> and <code>Academic</code> objects although it treats all of them as <code>Staff</code> objects. However, when the <code>adjustSalary(int)</code> operation
                          of these objects is called, the resulting salary adjustment will be different for <code>Admin</code> objects and <code>Academic</code> objects. Therefore, different types of objects are treated as a single general type, but yet
                          each type of object exhibits a different kind of behavior. This is called <em>polymorphism</em> (literally, it means ‚Äúability to take many forms‚Äù). In this example, an object that is perceived as type <code>Staff</code> can be
                          an <code>Admin</code> object or an <code>Academic</code> object.</p>
                      </div>
                      <div></div>
                    </div>
                  </div>
                </div>
              </modal>
              <img src="/website-base/book/oopImplementation/polymorphism/images/polymorphicPayroll.png" height="200">
              <p></p>
              <pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Staff</span> </span>{
    String name;
    <span class="hljs-keyword">double</span> salary;

    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">adjustSalary</span><span class="hljs-params">(<span class="hljs-keyword">int</span> percent)</span> </span>{
        <span class="hljs-comment">// do nothing</span>
    }
}

<span class="hljs-comment">//------------------------------------------</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Admin</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Staff</span> </span>{

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">adjustSalary</span><span class="hljs-params">(<span class="hljs-keyword">int</span> percent)</span> </span>{
        salary = salary * percent;
    }
}

<span class="hljs-comment">//------------------------------------------</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Academic</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Staff</span> </span>{

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">adjustSalary</span><span class="hljs-params">(<span class="hljs-keyword">int</span> percent)</span> </span>{
        salary = salary * percent * <span class="hljs-number">2</span>;
    }
}

<span class="hljs-comment">//------------------------------------------</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Payroll</span> </span>{
    ArrayList&lt; Staff &gt; staff;
    <span class="hljs-comment">// ...</span>

    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">adjustSalary</span><span class="hljs-params">(<span class="hljs-keyword">int</span> byPercent)</span> </span>{
        <span class="hljs-keyword">for</span> (Staff s: staff) {
            s.adjustSalary(byPercent);
        }
    }
}
</code></pre>
            </tip-box>
          </div>
          <div>
            <div>
              <panel header=":paperclip: Resources" expanded="">
                <ul>
                  <li><a href="https://docs.oracle.com/javase/tutorial/java/IandI/polymorphism.html">Oracle‚Äôs Java Tutorials: Polymorphism</a></li>
                  <li><a href="https://www.tutorialspoint.com/java/java_polymorphism.htm">Java - Polymorphism</a> -- a tutorial from <a href="http://tutorialspoint.com">tutorialspoint.com</a></li>
                </ul>
              </panel>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</div>
</body>
<script src="..\..\..\markbind\js\vue.min.js"></script>
<script src="..\..\..\markbind\js\vue-strap.min.js"></script>
<script>
    const baseUrl = '/website-base'
</script>
<script src="..\..\..\markbind\js\setup.js"></script>
</html>
